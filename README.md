Dai CLI - AI‚ÄëBacked Dependency Upgrade Advisor

An open‚Äësource CLI tool that automates dependency maintenance by scanning your project, detecting outdated or vulnerable packages, and using AI to draft upgrade rationales and PRs.

üöÄ Features

Scan & Report: Parse your package.json (and lockfile) to list direct and transitive dependencies with current versions.

Vulnerability Detection: Integrate with GitHub Advisory Database and NVD feeds to flag security issues.

Smart Upgrade Suggestions: Compute minimal semver bumps and use an LLM to generate:

What changed: Summary of version differences.

Why: Rationale including vulnerability fixes and improvements.

Migration notes: Highlight breaking changes and upgrade steps.

PR Automation: Apply version updates and open draft pull requests on GitHub with autogenerated title, diff, and AI‚Äëwritten description.

üõ†Ô∏è Tech Stack

Core Engine: Node.js + TypeScript

Dependency parsing: @npmcli/arborist

Semver logic: semver

Security data: GitHub REST API, NVD JSON feeds

AI Integration: OpenAI GPT‚Äë4 API for summarizing changelogs and drafting PR descriptions

CLI Development:

Go (recommended): Rapid compilation to a single, beautiful binary; rich standard library for CLI UX (e.g. spf13/cobra).

Rust (alternative): High performance and safety; use structopt/clap for ergonomic CLI parsing.

CI/CD: GitHub Actions to schedule scans or trigger on push/PR events

üó∫Ô∏è MVP Roadmap

Phase

Deliverables

Timeline

Œ±

- CLI scaffold (dai scan) in Go or Rust- Parse package.json and list outdated dependencies

1 week

Œ≤

- Fetch GitHub advisories and NVD data- Print vulnerability report to console

1‚Äì2 weeks

Œ≥

- Integrate OpenAI: prompt templates for rationale- dai upgrade to apply bumps and generate patch

2 weeks

Œ¥

- GitHub Action blueprint: automate PR creation with AI‚Äëdrafted description

1 week

Œµ

- (Optional) Web dashboard for multi‚Äërepo tracking and history

3‚Äì4 weeks

üì¶ Installation

### Quick Install (Linux/macOS)

```bash
# Install using the quick installer script
curl -fsSL https://raw.githubusercontent.com/HibiZA/dai/main/scripts/quickinstall.sh | bash
```

### Manual Installation

You can download the latest binary for your platform from the [GitHub Releases](https://github.com/HibiZA/dai/releases) page.

### Using Homebrew (macOS)

```bash
# Install from Homebrew
brew tap HibiZA/dai
brew install dai
```

### Using PowerShell (Windows)

```powershell
# Run in PowerShell
iwr -useb https://raw.githubusercontent.com/HibiZA/dai/main/scripts/install.ps1 | iex
```

### Building from Source

```bash
# Clone the repository
git clone https://github.com/HibiZA/dai.git
cd dai

# Build the binary
go build -o dai

# Optionally, move to your PATH
sudo mv dai /usr/local/bin/
```

üéØ Usage

# Scan current project and print summary
dai scan

# Upgrade specific packages and preview diff
dai upgrade express,react

# Run as GitHub Action (in .github/workflows/upgrade.yml)
# Triggers on schedule or on push
```yaml
name: Dependency Upgrade
on:
  schedule:
    - cron: '0 3 * * *'
  push:
    branches:
      - main
jobs:
  upgrade:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run Dai Upgrade
        run: |
          curl -sSL https://install.HibiZA.io/dai.sh | bash
          dai upgrade --all

ü§ù Contributing

We welcome issues, PRs, and feedback! Please read CONTRIBUTING.md for guidelines.

üìÑ License

MIT ¬© Your Organization

## GitHub Integration

Dai includes full GitHub integration for automated dependency management:

### Pull Request Automation

- Create PRs with dependency updates using the `--pr` flag
- AI-generated PR descriptions with detailed upgrade rationales
- Automatic patch/diff generation to show what changed
- Draft PRs for review before merging

### GitHub Actions

Dai comes with a pre-configured GitHub Action for automated dependency checking:

- Scheduled dependency vulnerability scans
- Automated PR creation for updates
- Report generation for security vulnerabilities
- Easy configuration through GitHub Secrets

To use the GitHub Action:

1. Copy the `.github/workflows/dependency-check.yml` file to your repository
2. Add your OpenAI API key as a GitHub Secret named `OPENAI_API_KEY`
3. The action will run automatically every Monday or can be triggered manually

See the [GitHub Actions documentation](.github/workflows/README.md) for more details.